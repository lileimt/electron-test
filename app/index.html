<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h1>Hello world</h1>
	We are using node <script>document.write(process.versions.node)</script>,
	Chrome <script>document.write(process.versions.Chrome)</script>,
	and Electron <script>document.write(process.versions.electron)</script>
	<br/>
	<button id="new">new</button>
	<button id="new_close">new close</button>
	<button id="size">Size</button>
	<button id="close">Close</button>
	<script>
		var ipc = require('electron').ipcRenderer;
		const remote = require('electron').remote;
		const Menu = remote.Menu;
		const MenuItem = remote.MenuItem;

		var menu = new Menu();
		menu.append(new MenuItem({ label: 'MenuItem1', click: function() { console.log('item 1 clicked'); } }));
		menu.append(new MenuItem({ type: 'separator' }));
		menu.append(new MenuItem({ label: 'MenuItem2', type: 'checkbox', checked: true }));

		window.addEventListener('contextmenu', function (e) {
		 	e.preventDefault();
		 	menu.popup(remote.getCurrentWindow());//返回该网页所属的BrowserWindow
		}, false);

		document.getElementById("new").onclick = function(){
			ipc.send('new-window');
		}
		document.getElementById("new_close").onclick = function(){
			ipc.send('new-window-close');
		}
		document.getElementById("size").addEventListener('click',()=>{
			var size = {
				width:1024,
				height:768
			};
			ipc.send('change-main-size',size);
		});
		document.getElementById("close").onclick = function(){
			ipc.send('close-main-window');
		}
	</script>
</body>
</html>